{"context":"DatabaseService","error":"password authentication failed for user \"postgres\"","level":"error","message":"Failed to connect to database:","stack":"error: password authentication failed for user \"postgres\"\n    at Parser.parseErrorMessage (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:369:69)\n    at Parser.handlePacket (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:187:21)\n    at Parser.parse (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:102:30)\n    at Socket.<anonymous> (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\index.ts:7:48)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-20T19:11:59.262Z"}
{"context":"Main","error":"password authentication failed for user \"postgres\"","level":"error","message":"Failed to start API Gateway:","stack":"error: password authentication failed for user \"postgres\"\n    at Parser.parseErrorMessage (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:369:69)\n    at Parser.handlePacket (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:187:21)\n    at Parser.parse (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:102:30)\n    at Socket.<anonymous> (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\index.ts:7:48)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-20T19:11:59.270Z"}
{"context":"RedisService","error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Redis client error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1636:16)","timestamp":"2025-06-20T19:13:53.852Z"}
{"context":"Main","error":"Connection is closed.","level":"error","message":"Failed to start API Gateway:","stack":"Error: Connection is closed.\n    at EventEmitter.connectionCloseHandler (D:\\Project\\loans\\api-gateway\\node_modules\\ioredis\\built\\Redis.js:207:28)\n    at Object.onceWrapper (node:events:633:26)\n    at EventEmitter.emit (node:events:530:35)\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-20T19:13:53.857Z"}
{"context":"RedisService","error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Redis client error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1636:16)","timestamp":"2025-06-20T19:14:59.957Z"}
{"context":"Main","error":"Connection is closed.","level":"error","message":"Failed to start API Gateway:","stack":"Error: Connection is closed.\n    at EventEmitter.connectionCloseHandler (D:\\Project\\loans\\api-gateway\\node_modules\\ioredis\\built\\Redis.js:207:28)\n    at Object.onceWrapper (node:events:633:26)\n    at EventEmitter.emit (node:events:530:35)\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-20T19:14:59.963Z"}
{"context":"RouteService","error":"Database not initialized","level":"error","message":"Error fetching all routes:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at RouteService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\route.service.ts:18:47)\n    at RouteService.getAllRoutes (D:\\Project\\loans\\api-gateway\\src\\services\\route.service.ts:26:31)\n    at RouteController.getRoutes (D:\\Project\\loans\\api-gateway\\src\\controllers\\route.controller.ts:26:46)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-06-20T21:11:54.951Z"}
{"context":"RouteService","error":"Database not initialized","level":"error","message":"Error fetching all routes:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at RouteService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\route.service.ts:18:47)\n    at RouteService.getAllRoutes (D:\\Project\\loans\\api-gateway\\src\\services\\route.service.ts:26:31)\n    at RouteController.getRoutes (D:\\Project\\loans\\api-gateway\\src\\controllers\\route.controller.ts:26:46)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-06-20T21:12:57.239Z"}
{"context":"DatabaseService","error":"password authentication failed for user \"postgres\"","level":"error","message":"Failed to connect to database:","stack":"error: password authentication failed for user \"postgres\"\n    at Parser.parseErrorMessage (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:369:69)\n    at Parser.handlePacket (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:187:21)\n    at Parser.parse (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:102:30)\n    at Socket.<anonymous> (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\index.ts:7:48)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-20T21:24:35.653Z"}
{"context":"DummyDataSeeder","error":"password authentication failed for user \"postgres\"","level":"error","message":"Error seeding dummy data:","stack":"error: password authentication failed for user \"postgres\"\n    at Parser.parseErrorMessage (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:369:69)\n    at Parser.handlePacket (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:187:21)\n    at Parser.parse (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:102:30)\n    at Socket.<anonymous> (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\index.ts:7:48)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-20T21:24:35.657Z"}
{"context":"SeederRunner","error":"password authentication failed for user \"postgres\"","level":"error","message":"Failed to seed database:","stack":"error: password authentication failed for user \"postgres\"\n    at Parser.parseErrorMessage (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:369:69)\n    at Parser.handlePacket (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:187:21)\n    at Parser.parse (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:102:30)\n    at Socket.<anonymous> (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\index.ts:7:48)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-20T21:24:35.663Z"}
{"context":"DatabaseService","error":"password authentication failed for user \"postgres\"","level":"error","message":"Failed to connect to database:","stack":"error: password authentication failed for user \"postgres\"\n    at Parser.parseErrorMessage (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:369:69)\n    at Parser.handlePacket (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:187:21)\n    at Parser.parse (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:102:30)\n    at Socket.<anonymous> (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\index.ts:7:48)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-20T21:28:16.156Z"}
{"context":"DummyDataSeeder","error":"password authentication failed for user \"postgres\"","level":"error","message":"Error seeding dummy data:","stack":"error: password authentication failed for user \"postgres\"\n    at Parser.parseErrorMessage (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:369:69)\n    at Parser.handlePacket (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:187:21)\n    at Parser.parse (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:102:30)\n    at Socket.<anonymous> (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\index.ts:7:48)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-20T21:28:16.158Z"}
{"context":"SeederRunner","error":"password authentication failed for user \"postgres\"","level":"error","message":"Failed to seed database:","stack":"error: password authentication failed for user \"postgres\"\n    at Parser.parseErrorMessage (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:369:69)\n    at Parser.handlePacket (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:187:21)\n    at Parser.parse (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\parser.ts:102:30)\n    at Socket.<anonymous> (D:\\Project\\loans\\api-gateway\\node_modules\\pg-protocol\\src\\index.ts:7:48)\n    at Socket.emit (node:events:518:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Socket.Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-20T21:28:16.160Z"}
{"context":"RouteService","error":"Database not initialized","level":"error","message":"Error fetching all routes:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at RouteService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\route.service.ts:18:47)\n    at RouteService.getAllRoutes (D:\\Project\\loans\\api-gateway\\src\\services\\route.service.ts:26:31)\n    at RouteController.getRoutes (D:\\Project\\loans\\api-gateway\\src\\controllers\\route.controller.ts:26:46)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-06-20T21:30:43.905Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error fetching metrics:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetrics (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:142:31)\n    at MetricsController.getMetricsFromDB (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:61:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-06-20T22:27:58.702Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for request_count:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:333:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:28:05.359Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for error_count:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:334:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:28:05.362Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for response_time:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:335:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:28:05.363Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting top endpoints:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getTopEndpoints (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:229:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:336:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:28:05.364Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting error summary:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getErrorSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:269:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:337:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:28:05.367Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error fetching metrics:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetrics (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:142:31)\n    at MetricsController.getMetricsFromDB (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:61:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2025-06-20T22:32:38.470Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for request_count:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:333:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:32:51.589Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for error_count:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:334:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:32:51.591Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for response_time:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:335:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:32:51.594Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting top endpoints:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getTopEndpoints (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:229:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:336:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:32:51.596Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting error summary:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getErrorSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:269:31)\n    at MetricsDBService.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:337:14)\n    at MetricsController.getMetricsSummary (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:86:51)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-06-20T22:32:51.598Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for http_requests_total:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsController.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:117:49)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-06-20T22:37:18.194Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for http_requests_total:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsController.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:117:49)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-06-20T22:37:27.975Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for http_requests_total:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsController.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:117:49)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-06-20T22:39:28.772Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for http_requests_total:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsController.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:117:49)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-06-20T22:40:04.865Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for http_requests_total:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsController.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:117:49)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-06-20T22:40:45.145Z"}
{"context":"MetricsDBService","error":"Database not initialized","level":"error","message":"Error getting metric stats for http_requests_total:","stack":"Error: Database not initialized\n    at DatabaseService.getDataSource (D:\\Project\\loans\\api-gateway\\src\\services\\database.service.ts:60:13)\n    at MetricsDBService.getRepository (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:29:47)\n    at MetricsDBService.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\services\\metrics-db.service.ts:184:31)\n    at MetricsController.getMetricStats (D:\\Project\\loans\\api-gateway\\src\\controllers\\metrics.controller.ts:118:49)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Project\\loans\\api-gateway\\node_modules\\express\\lib\\router\\index.js:365:14)","timestamp":"2025-06-20T22:41:12.558Z"}
